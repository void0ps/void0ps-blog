---
// 1. 确保引用文件名正确：是 AstroHackerBlog.jsx (注意 Hacker 的拼写)
import AstroHackBlog from '../components/AstroHackBlog.jsx';
import LandingPage from '../components/LandingPage.jsx';
import { getCollection } from 'astro:content';
import '../styles/global.css';

// 获取所有已发布的文章，并按日期倒序排列
const posts = (await getCollection('posts', ({ data }) => {
  return import.meta.env.PROD ? data.draft !== true : true;
})).sort(
	(a, b) => (b.data.date?.valueOf() || 0) - (a.data.date?.valueOf() || 0)
);
---

<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Void0ps // Digital Garden</title>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <!-- 
      注意：styles 必须放在 html 标签内，
      绝对不能包住上面的 '---' Frontmatter 区域 
    -->
  </head>
  <body>
    <!-- 把真实的 posts 数据传给 React 组件 -->
    <LandingPage client:only="react" posts={posts} />
  </body>
</html>